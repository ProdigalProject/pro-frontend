<DCTYPE html>
<html>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/3/w3.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css">
<link href='https://fonts.googleapis.com/css?family=Akronim' rel='stylesheet'>
<head>
  <title> CS411 Project -- Movie Hunter </title>
</head>
<body>
<!-- SideBar -->
<div class="w3-sidebar w3-bar-block w3-card w3-animate-left" style="display:none" id="mySidebar">
  <button class="w3-bar-item w3-button w3-large"
  onclick="w3_close()">Close &times;</button>
  <a href="#" class="w3-button w3-bar-item">Home</a>
  <a id="searchbt" onclick="login()" href="#Search" class="w3-button w3-bar-item">Search</a>
  <a id="ratingbt" onclick="login()" href="#Rating" class="w3-button w3-bar-item">Rating</a>
  <a id="deletebt" onclick="login()" href="#Delete" class="w3-button w3-bar-item">Delete</a>
  <a id="updatebt" onclick="login()" href="#Update" class="w3-button w3-bar-item">Update</a>
  <a id="recommendationbt" onclick="login()"href="#Recommend" class="w3-button w3-bar-item">Recommendation</a>
  <a id="predict" onclick="login()" href="#Predict" class="w3-button w3-bar-item">Predict</a>
  <!--<a href="chat.html" class="w3-button w3-bar-item">ChatRoom</a>-->
  <a id="chatroom" onclick="login()" class="w3-button w3-bar-item">ChatRoom</a>
</div>

<div id="main">

<!-- Navigation -->
<nav class="w3-bar w3-black">
  <a id="openNav" class="w3-button w3-bar-item w3-xlarge" onclick="w3_open()">&#9776;</a>
  <a id="loginbt" onclick="log()" href="login.html" class="w3-button w3-bar-item w3-xlarge w3-right">Log In</a>
  <a id="signupbt" href="signup.html" class="w3-button w3-bar-item w3-xlarge w3-right">Sign Up</a> 
  <div class="w3-large w3-right" style="display:block;font-family:'Akronim'">
    <p id="fullname">{{fullname}}</p>
  </div>
  <div class="w3-large w3-right" style="display:block;font-family:'Akronim'">
    <p> Hello, </p>
  </div>
</nav>

<!-- Slides Show -->
<section>
  <img id="img1" class="mySlides" src="http://wonder.movie/img/Wonder-TWITTER-FB-OG.jpg" style="width:100%;height:600px" onclick="login()">
  <img id="img2" class="mySlides" src="https://static1.squarespace.com/static/51cdafc4e4b09eb676a64e68/t/5a0f5dac53450a86195b5733/1508258047949/coco_logo.jpg" style="width:100%;height:600px" onclick="login()">
  <img id="img3" class="mySlides" src="https://waghostwriter.com/wp-content/uploads/2017/09/itt.jpg" style="width:100%;height:600px" onclick="login()">
</section>

<!-- Team Description -->
<section class="w3-container w3-center w3-content" style="max-width:600px">
  <a id="openNav" class="w3-button w3-bar-item w3-xlarge w3-left" onclick="w3_open()">&#9776;</a>
  <h2 class="w3-wide">Our Team</h2>
  <p class="w3-opacity"><i>We love movies</i></p>
</section>

<!-- Search Bar -->
<div id="Search" class="w3-row w3-padding w3-theme-d2 w3-xlarge" style="display: none;">
   <div class="w3-quarter">
    <div class="w3-bar">
      <a id="openNav" class="w3-button w3-bar-item w3-xlarge" onclick="w3_open()">&#9776;</a>
    </div>
  </div>
  <form id="form_id" method="post" name="myform" action="/getMovie/">
  {% csrf_token %}
   <div class="w3-half">
    <input type="text" class="w3-black w3-border-0 w3-padding" style="width:100%" name="movieID" placeholder="Enter Movie ID">
   </div>
  <div class="w3-quarter">
    <div class="w3-bar w3-xlarge">
      <button id="submit" type="submit" class="w3-bar-item w3-button"><i class="fa fa-search"></i></button>
    </div>
  </div>
</form>
</div>

<!-- Rating Bar -->
<div id="Rating" class="w3-row w3-padding w3-theme-d2 w3-xlarge" style="display: none;">
   <div class="w3-quarter">
    <div class="w3-bar">
      <a id="openNav" class="w3-button w3-bar-item w3-xlarge" onclick="w3_open()">&#9776;</a>
    </div>
  </div>
  <form id="form_id2" method="post" name="myform2" action="/insertMovieRating/">
  {% csrf_token %}
  <div class="w3-quarter">
    <input type="text" class="w3-black w3-border-0 w3-padding" style="width:100%" name="insertMovieid" placeholder="Enter Movie ID">
  </div>
   <div class="w3-quarter">
    <input type="text" class="w3-black w3-border-0 w3-padding" style="width:100%" name="insertRating" placeholder="Enter Movie Rating">
  </div>
  <div class="w3-quarter">
    <div class="w3-bar w3-xlarge">
      <button id="submit2" type="submit" class="w3-bar-item w3-button"><i class="fa fa-plane"></i></button>
    </div>
  </div>
</form>
</div>

<!-- Delete Bar -->
<div id="Delete" class="w3-row w3-padding w3-theme-d2 w3-xlarge" style="display: none;">
   <div class="w3-quarter">
    <div class="w3-bar">
      <a id="openNav" class="w3-button w3-bar-item w3-xlarge" onclick="w3_open()">&#9776;</a>
    </div>
  </div>
  <form id="form_id3" method="post" name="myform3" action="/deleteMovieRating/">
  {% csrf_token %}
  <div class="w3-half">
    <input type="text" class="w3-black w3-border-0 w3-padding" style="width:100%" name="deleteMovieid" placeholder="Enter Movie ID">
  </div>
  <div class="w3-quarter">
    <div class="w3-bar w3-xlarge">
      <button id="submit3" type="submit" class="w3-bar-item w3-button"><i class="fa fa-trash"></i></button>
    </div>
  </div>
</form>
</div>

<!-- Update Bar -->
<div id="Update" class="w3-row w3-padding w3-theme-d2 w3-xlarge" style="display: none;">
   <div class="w3-quarter">
    <div class="w3-bar">
      <a id="openNav" class="w3-button w3-bar-item w3-xlarge" onclick="w3_open()">&#9776;</a>
    </div>
  </div>
  <form id="form_id4" method="post" name="myform4" action="/updateMovieRating/">
  {% csrf_token %}
  <div class="w3-quarter">
    <input type="text" class="w3-black w3-border-0 w3-padding" style="width:100%" name="updateMovieid" placeholder="Enter Movie ID">
  </div>
    <div class="w3-quarter">
    <input type="text" class="w3-black w3-border-0 w3-padding" style="width:100%" name="updateRating" placeholder="Enter Movie rating">
  </div>
  <div class="w3-quarter">
    <div class="w3-bar w3-xlarge">
      <button id="submit4" type="submit" class="w3-bar-item w3-button"><i class="fa fa-refresh"></i></button>
    </div>
  </div>
</form>
</div>

<!-- Recommend -->
<div id="Recommend" class="w3-row w3-padding w3-theme-d2 w3-xlarge" style="display: none;">
   <div class="w3-quarter">
    <div class="w3-bar">
      <a id="openNav" class="w3-button w3-bar-item w3-xlarge" onclick="w3_open()">&#9776;</a>
    </div>
  </div>
  <form id="form_id5" method="post" action="/recommend/">
    {% csrf_token %}
    <input type="submit" value="Recommend movies for me!"/>
  </form>
</div>

<!-- Predict -->
<div id="Predict" class="w3-row w3-padding w3-theme-d2 w3-xlarge" style="display: none;">
   <div class="w3-quarter">
    <div class="w3-bar">
      <a id="openNav" class="w3-button w3-bar-item w3-xlarge" onclick="w3_open()">&#9776;</a>
    </div>
  </div>
  <form id="form_id6" method="post" name="myform6" action="/predict/">
  {% csrf_token %}
   <div class="w3-half">
    <input type="text" class="w3-black w3-border-0 w3-padding" style="width:100%" name="tags" placeholder="Enter Tags!">
   </div>
  <div class="w3-quarter">
    <div class="w3-bar w3-xlarge">
      <button id="submit" type="submit" class="w3-bar-item w3-button"><i class="fa fa-search"></i></button>
    </div>
  </div>
</form>
</div>

<!-- Result -->
<div id="Result" class="w3-section" style="display: block;">
	<center><h1><p id="s">{{sentence}}</p></h1></center>
	<center><h1><p id="title">{{title}}</p></h1></center>
	<center><h1><p id="genere">{{genres}}</p></h1></center>
	<center><h1><p id="tag">{{tags}}</p></h1></center>
	<center><h1><p id="rating">{{ratings}}</p></h1></center>
	<center><h1><p id="p">{{predict}}</p></h1></center>
</div>

<pre id="rec_result" class="w3-section" style="display: block;">
	<h1><p id="rec">{{recommendation}}</p></h1>
</pre>

<!-- Team Members -->
<section class="w3-row-padding w3-center w3-light-grey">
  <article class="w3-quarter">
    <p>Irvin</p>
    <img src="https://awesomespace.nl/wp-content/uploads/sites/14/2015/04/Pikachu.png" alt="Random Name" style="width:100%">
    <p>Irvin is the smartest.</p>
  </article>
  <article class="w3-quarter">
    <p>Grinning</p>
    <img src="https://static.giantbomb.com/uploads/scale_small/0/6087/2438704-1202149925_t.png" alt="Random Name" style="width:100%">
    <p>Grinning is the smartest.</p>
  </article>
  <article class="w3-quarter">
    <p>Sean</p>
    <img src="https://orig00.deviantart.net/0523/f/2013/226/f/d/_007_squirtle_by_icedragon300-d4kb95g.png" alt="Random Name" style="width:100%">
    <p>Sean is the smartest.</p>
  </article>
  <article class="w3-quarter">
    <p>ZoNo</p>
    <img src="https://vignette.wikia.nocookie.net/pokemon/images/2/25/094Gengar_Dream.png/revision/latest?cb=20140603211046" alt="Random Name" style="width:100%">
    <p>ZoNo is the smartest.</p>
  </article>
</section>

<!-- Login Form -->
<div id="form" style="display:none;" class="w3-modal">
    <div class="w3-modal-content w3-card-4 w3-animate-zoom" style="max-width:450px">
    	<div class="w3-center"><br>
          <span onclick="document.getElementById('form').style.display='none'" class="w3-button w3-xlarge w3-transparent w3-display-topright" title="Close Modal">Ã—</span>
          <img src="https://i.stack.imgur.com/GmDqj.jpg" alt="Avatar" style="width:30%" class="w3-round-large w3-margin-top w3-grayscale-min">
    	</div>

		<form class="w3-container" id="form_id" method="post" name="myform" action="/authenticate/">
		{% csrf_token %} 
            <label><b>Username</b></label>
            <input class="w3-input w3-border w3-margin-bottom" type="text" placeholder="Enter Username" name="username" required>
            <label><b>Password</b></label>
            <input class="w3-input w3-border" type="password" placeholder="Enter Password" name="password" required>
            <button class="w3-button w3-block w3-black w3-section w3-padding" type="submit" id="submit">Login</button>
            <input class="w3-check w3-margin-top" type="checkbox" checked="checked"> Remember me
		</form>
    	<div class="w3-container w3-border-top w3-padding-16 w3-light-grey">
          <button onclick="document.getElementById('form').style.display='none'" type="button" class="w3-button w3-red">Cancel</button>
          <span class="w3-right w3-padding w3-hide-small">Forgot <a href="#">password?</a></span>
    	</div>
  </div>
</div>
<!-- Footer -->
<footer id="Home" class="w3-container w3-padding-64 w3-center w3-black w3-xlarge">
  <a href="#"><i class="fa fa-facebook-official"></i></a>
  <a href="#"><i class="fa fa-pinterest-p"></i></a>
  <a href="#"><i class="fa fa-twitter"></i></a>
  <a href="#"><i class="fa fa-flickr"></i></a>
  <a href="#"><i class="fa fa-linkedin"></i></a>
  <p class="w3-medium">
  Powered by <a href="https://www.w3schools.com/w3css/default.asp" target="_blank">w3.css</a>
  </p>
</footer>

</div>

<script>
var logged = 0;

var myIndex = 0;
carousel();
function carousel() {
    var i;
    var x = document.getElementsByClassName("mySlides");
    for (i = 0; i < x.length; i++) {
       x[i].style.display = "none";
    }
    myIndex++;
    if (myIndex > x.length) {myIndex = 1}
    x[myIndex-1].style.display = "block";
    setTimeout(carousel, 3000);
}

// SideBar Open and Close
function w3_open() {
  document.getElementById("main").style.marginLeft = "15%";
  document.getElementById("mySidebar").style.width = "15%";
  document.getElementById("mySidebar").style.display = "block";
  document.getElementById("openNav").style.display = 'none';
}

function w3_close() {
  document.getElementById("main").style.marginLeft = "0%";
  document.getElementById("mySidebar").style.display = "none";
  document.getElementById("openNav").style.display = "inline-block";
}

//modal login
function login(){
  document.getElementById('form').style.display='block';
}

//click outside close login
window.onclick = function(event) {
	var modal = document.getElementById('form');
    if (event.target == modal) {
        modal.style.display = "none";
    }
}

function show_Search(){
	document.getElementById("Result").style.display = 'block';
	document.getElementById("Rating").style.display = 'none';
	document.getElementById("Delete").style.display = 'none';
	document.getElementById("Update").style.display = 'none';
	document.getElementById("Search").style.display = 'block';
        document.getElementById("Recommend").style.display = 'none';
	document.getElementById("Predict").style.display = 'none';
}

function show_Rating(){
	document.getElementById("Result").style.display = 'block';
	document.getElementById("Rating").style.display = 'block';
	document.getElementById("Delete").style.display = 'none';
	document.getElementById("Update").style.display = 'none';
	document.getElementById("Search").style.display = 'none';
        document.getElementById("Recommend").style.display = 'none';
	document.getElementById("Predict").style.display = 'none';
}

function show_Delete(){
	document.getElementById("Result").style.display = 'block';
	document.getElementById("Rating").style.display = 'none';
	document.getElementById("Delete").style.display = 'block';
	document.getElementById("Update").style.display = 'none';
	document.getElementById("Search").style.display = 'none';
        document.getElementById("Recommend").style.display = 'none';
	document.getElementById("Predict").style.display = 'none';
}

function show_Update(){
	document.getElementById("Result").style.display = 'block';
	document.getElementById("Rating").style.display = 'none';
	document.getElementById("Delete").style.display = 'none';
	document.getElementById("Update").style.display = 'block';
	document.getElementById("Search").style.display = 'none';
        document.getElementById("Recommend").style.display = 'none';
	document.getElementById("Predict").style.display = 'none';
}

function show_recommendation(){
	document.getElementById("rec_result").style.display = 'block';
	document.getElementById("Recommend").style.display = 'block';
        document.getElementById("Result").style.display = 'none';
        document.getElementById("Rating").style.display = 'none';
        document.getElementById("Delete").style.display = 'none';
        document.getElementById("Update").style.display = 'none';
        document.getElementById("Search").style.display = 'none';
	document.getElementById("Predict").style.display = 'none';
}

function show_chatroom(){
	window.location.href = "http://fa17-cs411-21.cs.illinois.edu/chat.html";
}

function show_predict(){
	document.getElementById("Result").style.display = 'block';
	document.getElementById("Predict").style.display = 'block';
	document.getElementById("rec_result").style.display = 'none';
        document.getElementById("Recommend").style.display = 'none';
        document.getElementById("Result").style.display = 'none';
        document.getElementById("Rating").style.display = 'none';
        document.getElementById("Delete").style.display = 'none';
        document.getElementById("Update").style.display = 'none';
        document.getElementById("Search").style.display = 'none';
}

var userName = "";
window.onload = function(){
	fullname = document.getElementById("fullname");
	s = document.getElementById("s");
	title = document.getElementById("title");
	genere = document.getElementById("genere");
	tag = document.getElementById("tag");
	rating = document.getElementById("rating");
	rec = document.getElementById("rec");
	p = document.getElementById("p");
	//alert(userName);
	//if(fullname.innerHTML != ""){
	//	userName = fullname.innerHTML;
	//}
	//alert(userName);
	if(fullname.innerHTML != "" || s.innerHTML != "" || title.innerHTML != "" || rec.innerHTML != "" || p.innerHTML != ""){
	//if(fullname.innerHTML != "" || title.innerHTML != ""){
		//alert(fullname.innerHTML == "");
		//alert(s.innerHTML == "");
		//alert(title.innerHTML == "");
		//alert(genere.innerHTML == "");
		//alert(tag.innerHTML == "");
		//alert(rating.innerHTML == "");
		document.getElementById("loginbt").style.display = 'none';
		document.getElementById("signupbt").style.display = 'none';
		document.getElementById("fullname").style.display = 'block';
		document.getElementById("img1").onclick = "";
		document.getElementById("img2").onclick = "";
		document.getElementById("img3").onclick = "";
		document.getElementById("searchbt").onclick = show_Search;
		document.getElementById("ratingbt").onclick = show_Rating;
		document.getElementById("deletebt").onclick = show_Delete;
		document.getElementById("updatebt").onclick = show_Update;
		document.getElementById("recommendationbt").onclick = show_recommendation;
		document.getElementById("chatroom").onclick = show_chatroom;
		document.getElementById("predict").onclick = show_predict;
	}
	//if(fullname.innerHTML == ""){
	//	fullname.innerHTML = userName;
	//}
}

</script>

</body>
</html>

